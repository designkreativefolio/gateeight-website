{% extends 'layouts/landing.html.twig' %}

{# ----- OPTIONAL: if your base layout supports these blocks, keep them.
      If not, move the CDN <link>/<script> into your base layout once. ----- #}
{% block stylesheets %}
  {{ parent() }}
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css">
{% endblock %}

{% block content %}
<!-- ===== HERO AREA START ===== -->
<div class="hero1-section-area about-bg-area" data-aos="fade-up" data-aos-duration="800">
  <img src="/img/bg/glaze-bg.png" alt="" class="header-img1" />
  <div class="container">
    <div class="row">
      <div class="col-lg-7 m-auto">
        <div class="hero-heading-area heading1 text-center">
          <h1 class="tg-element-title" data-aos="zoom-out" data-aos-duration="900">Glaze Tiles</h1>
          <a href="index" class="backline" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="100">
            Home <i class="fa-solid fa-angle-right"></i> Products
            <i class="fa-solid fa-angle-right"></i> <span>Glaze Tiles</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- ===== HERO AREA END ===== -->

<!-- ===== PRODUCT AREA START ===== -->
<div class="service-leftside-area sp8">
  <div class="container">

    {# ===== ROW 1: CENTERED GALLERY ONLY ===== #}
    <div class="row">
      <div class="col-12 d-flex justify-content-center">
        <div class="product-gallery fixed-sizes"
             style="
               --main-max-width: 980px;
               --main-ratio: 16/9;
               --thumb-size: 72px;
               --gap: 10px;
               --arrow-inset: 14px;
               --sidebar-offset: 18px;
             ">

          <div class="main-frame" data-aos="zoom-in" data-aos-duration="800">
            <!-- Left arrow -->
            <button class="nav-arrow side left-arrow" type="button" aria-label="Previous image" onclick="prevImage()">
              <i class="fa-solid fa-chevron-left"></i>
            </button>

            <!-- Main image -->
            <div class="image-box main-box">
              <img id="mainProductImage"
                   src="/img/all-images/gz1.jpeg"
                   alt="Glazed Tile 1"
                   class="image-fit fade-in"
                   loading="eager" />
            </div>

            <!-- Right arrow -->
            <button class="nav-arrow side right-arrow" type="button" aria-label="Next image" onclick="nextImage()">
              <i class="fa-solid fa-chevron-right"></i>
            </button>
          </div>

          <!-- Thumbnails -->
          <div class="thumbnail-gallery d-flex flex-wrap justify-content-center mt-3" id="thumbs"
               data-aos="fade-up" data-aos-duration="700" data-aos-delay="100">
            {% set imgs = [
              {'src':'/img/all-images/gz1.jpeg','alt':'Glazed Tile 1'},
              {'src':'/img/all-images/gz2.jpeg','alt':'Glazed Tile 2'},
              {'src':'/img/all-images/gz3.jpeg','alt':'Glazed Tile 3'},
              {'src':'/img/all-images/gz4.jpeg','alt':'Glazed Tile 4'},
              {'src':'/img/all-images/gz5.jpeg','alt':'Glazed Tile 5'},
              {'src':'/img/all-images/gz6.jpeg','alt':'Glazed Tile 6'},
              {'src':'/img/all-images/gz7.jpeg','alt':'Glazed Tile 7'},
              {'src':'/img/all-images/gz8.jpeg','alt':'Glazed Tile 8'}
            ] %}

            {% for im in imgs %}
            <button class="thumb-box {{ loop.first ? 'active' : '' }}" type="button"
                    onclick="changeImage(this)"
                    data-index="{{ loop.index0 }}"
                    data-src="{{ im.src }}" data-alt="{{ im.alt }}"
                    data-aos="fade-up" data-aos-duration="500" data-aos-delay="{{ 60 * loop.index0 }}">
              <img src="{{ im.src }}" alt="{{ im.alt }}" class="image-fit" loading="lazy">
            </button>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>

    <div class="space32"></div>

    {# ===== ROW 2: CONTENT + SIDEBAR ===== #}
    <div class="row">
      <!-- ==== MAIN CONTENT ==== -->
      <div class="col-lg-8">
        <div class="service-rightside-area heading2">
          <h3 data-aos="fade-right" data-aos-duration="700">Premium Glaze Tiles</h3>
          <p data-aos="fade-right" data-aos-duration="700" data-aos-delay="100">
            Experience the sophistication of our Premium Glaze Tiles — meticulously crafted to deliver
            a seamless blend of luxury, durability, and modern aesthetics. Each tile is engineered with
            advanced glazing technology that provides a mirror-smooth surface, exceptional color depth,
            and long-lasting shine that elevates any architectural space.
          </p>
          <p data-aos="fade-right" data-aos-duration="700" data-aos-delay="150">
            Ideal for high-end interiors, façades, and feature walls, these tiles offer superior resistance
            to stains, water, and wear, ensuring timeless elegance and low maintenance. Available in
            multiple finishes — glossy, matte, and textured — our Glaze Tiles are the perfect choice
            for designers seeking refinement, durability, and sustainable beauty.
          </p>

          <div class="space32"></div>
          <h3 data-aos="fade-right" data-aos-duration="700">Features & Benefits</h3>
          <ul class="list-unstyled">
            <li data-aos="fade-up" data-aos-duration="600"><i class="fa-solid fa-check"></i> Luxurious glazed finish that enhances light reflection and visual depth</li>
            <li data-aos="fade-up" data-aos-duration="600" data-aos-delay="50"><i class="fa-solid fa-check"></i> High durability with superior resistance to stains, scratches, and moisture</li>
            <li data-aos="fade-up" data-aos-duration="600" data-aos-delay="100"><i class="fa-solid fa-check"></i> Ideal for upscale interiors, feature walls, and modern architectural spaces</li>
            <li data-aos="fade-up" data-aos-duration="600" data-aos-delay="150"><i class="fa-solid fa-check"></i> Available in glossy, matte, and textured finishes for versatile design options</li>
            <li data-aos="fade-up" data-aos-duration="600" data-aos-delay="200"><i class="fa-solid fa-check"></i> Easy to maintain — retains its shine and elegance for years</li>
          </ul>
        </div>
      </div>

      <!-- ==== SIDEBAR ==== -->
      <div class="col-lg-4">
        <div class="service-leftside sidebar-offset">
          <div class="helping-area" data-aos="zoom-in" data-aos-duration="700">
            <h3>Need Assistance?</h3>
            <div class="btn-area">
              <a href="tel:+971528735686" class="header-btn1">
                <i class="fa-solid fa-phone-volume"></i> +971 528735686
              </a>
            </div>
          </div>

          <div class="download-broucher" data-aos="zoom-in" data-aos-duration="700" data-aos-delay="100">
            <h3>Download Brochure</h3>
            <p>Get detailed specs and finish options for all tile types.</p>
            <div class="btn-area">
              <a href="/brochures/granite.pdf" class="header-btn1">
                <img src="/img/icons/download1.svg" alt=""> PDF Download
              </a>
            </div>
          </div>

          <div class="social-icons" data-aos="zoom-in" data-aos-duration="700" data-aos-delay="200">
            <h3>Follow Us</h3>
            <ul>
              <li><a href="https://www.facebook.com/p/Gate-Eight-Trading-LLC-61575302306470/"><i class="fa-brands fa-facebook-f"></i></a></li>
              <li><a href="https://www.instagram.com/gateeightbm/"><i class="fa-brands fa-instagram"></i></a></li>
            </ul>
          </div>
        </div>
      </div>
    </div><!-- /row 2 -->

  </div>
</div>
<!-- ===== PRODUCT AREA END ===== -->

<!-- ===== JS: Dynamic Image Change + AOS glue ===== -->
<script>
  // Thumb logic
  const thumbs = document.querySelectorAll('.thumb-box');
  let currentIndex = 0;

  function swapMain(src, alt) {
    const img = document.getElementById('mainProductImage');
    const pre = new Image();
    img.classList.remove('fade-in');
    img.style.opacity = 0;

    pre.onload = () => {
      img.src = src;
      img.alt = alt || 'Product image';
      requestAnimationFrame(() => {
        img.classList.add('fade-in');
        img.style.opacity = 1;
        if (window.AOS) AOS.refreshHard(); // image dimension change -> recalc positions
      });
    };
    pre.src = src;
  }

  function changeImage(el) {
    const src = el.getAttribute('data-src');
    const alt = el.getAttribute('data-alt');
    currentIndex = parseInt(el.getAttribute('data-index'), 10);
    swapMain(src, alt);
    thumbs.forEach(b => b.classList.remove('active'));
    el.classList.add('active');
  }

  function prevImage() {
    currentIndex = (currentIndex - 1 + thumbs.length) % thumbs.length;
    changeImage(thumbs[currentIndex]);
  }

  function nextImage() {
    currentIndex = (currentIndex + 1) % thumbs.length;
    changeImage(thumbs[currentIndex]);
  }

  // Keyboard nav
  document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft') prevImage();
    if (e.key === 'ArrowRight') nextImage();
  });

  // If any lazy image loads later, refresh AOS
  window.addEventListener('load', () => { if (window.AOS) AOS.refresh(); });
</script>

<style>
  /* ===== Centered gallery (hero) ===== */
  .product-gallery.fixed-sizes {
    --main-max-width: 980px;
    --main-ratio: 16/9;
    --thumb-size: 72px;
    --gap: 10px;
    --arrow-inset: 14px;
    --sidebar-offset: 18px;
    width: 100%;
    text-align: center;
  }

  .main-frame {
    position: relative;
    display: block;
    max-width: var(--main-max-width);
    margin: 0 auto;
  }

  .image-box.main-box {
    width: 100%;
    aspect-ratio: var(--main-ratio);
    background: #f7f7f7;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 14px 36px rgba(0,0,0,.12);
  }

  .image-fit { width: 100%; height: 100%; object-fit: cover; display: block; transition: opacity .35s ease; }
  .fade-in { animation: zoomFade .35s ease; }
  @keyframes zoomFade { from { opacity: 0; transform: scale(.985); } to { opacity: 1; transform: scale(1); } }

  .thumbnail-gallery { gap: var(--gap); width: 100%; }
  .thumb-box {
    width: var(--thumb-size);
    height: var(--thumb-size);
    border: 2px solid transparent;
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    padding: 0;
    background: #fff;
    box-shadow: 0 4px 10px rgba(0,0,0,.06);
    transition: transform .15s ease, border-color .15s ease, box-shadow .15s ease;
  }
  .thumb-box:hover { transform: translateY(-2px); }
  .thumb-box.active, .thumb-box:focus { border-color: #e41e26; outline: none; }

  /* Side arrows pinned to image sides */
  .nav-arrow.side {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255,255,255,0.95);
    border: none;
    border-radius: 50%;
    width: 44px;
    height: 44px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.20);
    cursor: pointer;
    transition: background .2s ease, transform .2s ease, color .2s ease;
    display: flex;
    align-items: center; justify-content: center;
    z-index: 3;
  }
  .left-arrow  { left:  var(--arrow-inset); }
  .right-arrow { right: var(--arrow-inset); }
  .nav-arrow.side:hover { background: #e41e26; color: #fff; transform: translateY(-50%) scale(1.08); }

  /* Sidebar starts lower than content */
  .sidebar-offset { margin-top: var(--sidebar-offset); }

  /* more room before the footer */
  .service-leftside-area.sp8 { padding-bottom: 66px; }
  @media (max-width: 991.98px) { .service-leftside-area.sp8 { padding-bottom: 72px; } }
  @media (max-width: 575.98px) { .service-leftside-area.sp8 { padding-bottom: 56px; } }

  /* Tablet */
  @media (max-width: 991.98px) {
    .product-gallery.fixed-sizes {
      --main-max-width: 820px;
      --thumb-size: 64px;
      --arrow-inset: 12px;
      --sidebar-offset: 12px;
    }
  }
  /* Mobile */
  @media (max-width: 575.98px) {
    .product-gallery.fixed-sizes {
      --main-max-width: 100%;
      --main-ratio: 16/9;
      --thumb-size: 56px;
      --gap: 8px;
      --arrow-inset: 10px;
      --sidebar-offset: 8px;
    }
  }
</style>
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // init once the DOM is ready
      AOS.init({
        duration: 800,
        once: true,
        offset: 80,
        easing: 'ease-out-cubic'
      });

      // safety refresh after a tick in case fonts/images shift layout
      setTimeout(() => AOS.refresh(), 400);
    });
  </script>
{% endblock %}
